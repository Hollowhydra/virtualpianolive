jQuery(document).ready(function($){if(location.pathname=='/top-players/'){var diff=$('#avg-diff');var acc=$('#avg-acc');var rhy=$('#avg-rhythm');if(diff.text()=='NAN'){diff.html('-');}
if(acc.text()=='NAN%'){acc.html('-');}
if(rhy.text()=='NAN%'){rhy.html('-');}}
if(location.pathname=='/member-login/'){var loginHtml=$('.impu-form-links-reg').html();$('.impu-form-links-reg').html(loginHtml.slice(0,3)+"'"+loginHtml.slice(3));}
if(location.pathname=="/register/"){$('.iump-form-date label').text('Played Virtual Piano since (year)');}
if($('.songs-list > li').length){for(let i=0;i<$('.songs-list > li').length;i++){var item=$($('.songs-list > li')[i]);if(!item.find('.songs-list__sheet p').length){item.find('.songs-list__sheet').html('<p>'+item.find('.songs-list__sheet').html()+'</p>');}}}
jQuery('.top-bar .menu-item-has-children > a').click(function(e){e.preventDefault();if(jQuery(window).width()<=1366){jQuery(this).next().toggleClass('active');jQuery(this).toggleClass('active');}else{}})
jQuery('.site-footer .menu-community-container .sub-menu a').attr('target','_blank');jQuery(window).click(function(e){if(e.target!==document.querySelector('.top-bar .menu-item-has-children > a')&&jQuery('.top-bar .sub-menu').hasClass('active')){jQuery('.top-bar .sub-menu, .top-bar .menu-item-has-children > a').removeClass('active');}});jQuery('.ad-close').click(function(){var ad=jQuery(this).parents('.ad-wrap');jQuery(this).parents('.ad-wrap').toggleClass('closed');setTimeout(function(){ad.removeClass('closed');},30000)})
jQuery('.footer-widget-4 .menu>li>a').click(function(e){e.preventDefault();});if(jQuery(window).width()<1024){jQuery('.footer-widget-4 .menu>li>a').click(function(e){jQuery(this).toggleClass('active').siblings().slideToggle(500);});jQuery('.footer-widgets .widget-title').click(function(){jQuery(this).toggleClass('active').siblings().slideToggle(500);});jQuery('.custom-html-widget h2').click(function(){jQuery(this).toggleClass('active');jQuery(this).parent().parent().next().find('div').slideToggle(500);});}
jQuery('.top-bar').appendTo('.main-navigation .inside-navigation').addClass('loaded');jQuery('.menu-toggle').click(function(){var scrolled=jQuery('html').scrollTop();jQuery('html').scrollTop(scrolled);if(!jQuery('.site-footer .footer-widgets').hasClass('active')){jQuery('html').css({'overflow-y':'hidden'});jQuery('.site-footer .footer-widgets').addClass('mob-header');setTimeout(function(){jQuery('.site-footer .footer-widgets').addClass('transition active');},100)}else{jQuery('html').css({'overflow-y':'scroll'});jQuery('.site-footer .footer-widgets').removeClass('active');setTimeout(function(){jQuery('.site-footer .footer-widgets').removeClass('mob-header transition');},300)}});if(jQuery('.since-date').length){var dateSince=jQuery('.since-date').html().slice(-4);jQuery('.since-date').html(dateSince);}
if(document.getElementsByTagName){var inputElements=document.getElementsByTagName("input");for(i=0;inputElements[i];i++){if(inputElements[i].className&&(inputElements[i].className.indexOf("disableAutoComplete")!=-1)){inputElements[i].setAttribute("autocomplete","off");}}}
if(current_user.current_user.roles==0){}else{jQuery('.bottom-ad').remove();jQuery('.ad-side').remove();}
if(current_user.current_user.roles.includes('administrator')){jQuery('#menu-header-account').children().first().remove();}
if(jQuery('.filtering-button').length){jQuery('.filtering-button').click(function(){jQuery(this).toggleClass('active');jQuery('.filtering').toggleClass('active');});}
if(!current_user.current_user||current_user.current_user.ID==0){jQuery('.rmp-rating-widget').remove();}
if(window.location.href.includes('/?s=')){jQuery('input.search-field').val('');}});function decodeHTMLEntities(text){var textArea=document.createElement('textarea');textArea.innerHTML=text;return textArea.value;}
var cordovaURL=window.location.href;if(cordovaURL=="https://virtualpiano.net/?mobileapp=true"){document.cookie="device=mobileApp";}
var accordionItem=document.querySelectorAll(".challenge_item");accordionItem.forEach((el)=>el.addEventListener("click",()=>{if(el.classList.contains("active")){el.classList.remove("active");el.parentElement.classList.remove("active");}else{accordionItem.forEach((el2)=>{el2.classList.remove("active");el2.parentElement.classList.remove("active");});el.classList.add("active");el.parentElement.classList.add("active");}}));function ihcCheckLoginField(i,e){var n=jQuery("#notice_"+i);n.fadeOut(500,function(){n.remove();});var o=jQuery("#ihc_login_form [name="+i+"]").parent();""==jQuery("#ihc_login_form [name="+i+"]").val()&&jQuery(o).append('<div class="ihc-login-notice" id="notice_'+i+'">'+e+"</div>");}
jQuery.event.special.touchstart={setup:function(_,ns,handle){this.addEventListener("touchstart",handle,{passive:!ns.includes("noPreventDefault")});}};jQuery.event.special.touchmove={setup:function(_,ns,handle){this.addEventListener("touchmove",handle,{passive:!ns.includes("noPreventDefault")});}};jQuery.event.special.wheel={setup:function(_,ns,handle){this.addEventListener("wheel",handle,{passive:true});}};jQuery.event.special.mousewheel={setup:function(_,ns,handle){this.addEventListener("mousewheel",handle,{passive:true});}};